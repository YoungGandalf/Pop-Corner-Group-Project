<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Add your reservation information</title>
    {%  load static  %}
    <link rel="stylesheet" href="{% static 'css/all.css' %}" type="text/css">
</head>

<body>
    <header role="banner" class="menu-nav">
        <a href="/#index">Home</a>
        <a href ="/edit_reservation">Account </a>
        <a href ="/event">Movies</a>
        <a href ="/map">Locations</a>
        <a href ="/reservation">Make Reservation</a>
        <a href = "/payment">Payment</a>
        <a href ="/about">About Us</a>

        <!--Login/Logout Button -->
        {% if user.is_authenticated %}
            <a href ="/logout" class="login-button">Logout </a>
        {% else %}
            <a href ="/login" class="login-button">Login</a>
        {% endif %}

    </header>

    <h1 style="color:tomato;font-size:150%;font-family:'Optima';">Reservation Info</h1>

    <div class="page-content">
    <p>
        Here are possible movies to watch with the associating dates and times:
        <ol>

            {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                        <li  {% if message.tags %} class=" {{ message.tags }} " {% endif %}> {{ message }} </li>
                    {% endfor %}
                </ul>
            {% endif %}
            {% if error %}
                {{ error }}
            {% endif %}

        <form action="/add/" method="POST">

            {% for Event in Events %}
                {% if Event.AvailableTickets > 0 %}
                     <!-- Print out Relevant Information for the Movie-->
                    <li>Movie Name: {{ Event.MovieId.MovieName }}  <br>
                        Event Address: {{ Event.EventAddress }} <br>
                        Event Date:{{ Event.EventDate }} </li>
                        Number of Tickets Available: {{ Event.AvailableTickets }}<br>

                            {% csrf_token %}
                            <!-- Both inputs need to be a list (specified by id) -->
                            <!-- Ask User for the number of tickets (default is 0)-->
                            How many tickets would you like to buy?
                            <input type="integer" name="tickets" id="tickets.id" value = 0><br/>
                            <!-- Store the current Event ID -->
                            <input type="hidden" value={{ Event.EventId }} name=tempId id="temp.id" readonly>
                            <br>

                {% endif %}
            {% endfor %}
        <input type="submit" name="submit" value="Add Reservation"/>
        </form>
        </ol>
    </p>
    </div>

</body>

</html>

